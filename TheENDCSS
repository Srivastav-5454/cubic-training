PS D:\frontend_final\frontend> npm test -- --coverage

> frontend@0.1.0 test
> react-scripts test --coverage

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx
 FAIL  src/__tests__/Metroline.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx
  ‚óè MetroLine Component ‚Ä∫ moves metro through stations over time

    expect(element).toHaveClass("active")

    Expected the element to have class:
      active
    Received:

      56 |         });
      57 |
    > 58 |         expect(screen.getByText("Station A")).toHaveClass("active");
         |                                               ^
      59 |     });
      60 |
      61 |     test("shows destination reached popup after final station", () => {

      at Object.<anonymous> (src/__tests__/Metroline.test.jsx:58:47)

  ‚óè MetroLine Component ‚Ä∫ shows destination reached popup after final station

    TestingLibraryElementError: Unable to find an element with the text: Destination Reached!. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="tapgate-metro-wrapper"
        >
          <div
            class="tapgate-metro-card2"
          >
            <div
              class="tapgate-track"
            >
              <span
                class="tapgate-track-dot"
                style="left: 0px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 100px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 200px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 300px;"
              />
              <div
                class="tapgate-metro"
                style="transition: left 4s linear; transform: translateX(-50%); left: 100px;"
              />
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 0px;"
              >
                <span>
                  Ameerpet
                </span>
              </div>
              <div
                class="tapgate-station-box active"
                style="transform: translateX(-50%); left: 100px;"
              >
                <span>
                  Station A
                </span>
              </div>
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 200px;"
              >
                <span>
                  Station B
                </span>
              </div>
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 300px;"
              >
                <span>
                  Secunderabad
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      72 |         });
      73 |
    > 74 |         expect(screen.getByText("Destination Reached!")).toBeInTheDocument();
         |                       ^
      75 |         expect(screen.getByText(/Secunderabad/)).toBeInTheDocument();
      76 |     });
      77 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/__tests__/Metroline.test.jsx:74:23)

  ‚óè MetroLine Component ‚Ä∫ New Trip button triggers callback

    TestingLibraryElementError: Unable to find an element with the text: New Trip. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="tapgate-metro-wrapper"
        >
          <div
            class="tapgate-metro-card2"
          >
            <div
              class="tapgate-track"
            >
              <span
                class="tapgate-track-dot"
                style="left: 0px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 100px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 200px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 300px;"
              />
              <div
                class="tapgate-metro"
                style="transition: left 4s linear; transform: translateX(-50%); left: 100px;"
              />
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 0px;"
              >
                <span>
                  Ameerpet
                </span>
              </div>
              <div
                class="tapgate-station-box active"
                style="transform: translateX(-50%); left: 100px;"
              >
                <span>
                  Station A
                </span>
              </div>
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 200px;"
              >
                <span>
                  Station B
                </span>
              </div>
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 300px;"
              >
                <span>
                  Secunderabad
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      90 |         });
      91 |
    > 92 |         screen.getByText("New Trip").click();
         |                ^
      93 |         expect(onNewTrip).toHaveBeenCalled();
      94 |     });
      95 | });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/__tests__/Metroline.test.jsx:92:16)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx
 FAIL  src/__tests__/MyCardB.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx
  ‚óè MyCardB Component ‚Ä∫ calculates and displays correct trip count for student card

    TestingLibraryElementError: Unable to find an element with the text: /5 times/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="card-wrapper"
        >
          <div
            class="card-ui"
          >
            <div
              class="card-chip"
            >
              <svg
                fill="none"
                height="32"
                viewBox="0 0 40 32"
                width="40"
              >
                <rect
                  fill="rgba(234, 246, 255, 0.2)"
                  height="32"
                  rx="4"
                  width="40"
                />
                <rect
                  fill="rgba(234, 246, 255, 0.3)"
                  height="16"
                  rx="2"
                  width="24"
                  x="8"
                  y="8"
                />
              </svg>
            </div>
            <div
              class="card-header"
            >
              <div>
                <h3
                  class="card-name"
                >
                  STUDENT
                   PASS
                </h3>
                <p
                  class="card-no"
                >
                  1111 2222
                </p>
              </div>
              <div
                class="card-type-badge"
              >
                Student
              </div>
            </div>
            <div
              class="balance-section"
            >
              <p
                class="big-balance-label"
              >
                Available Balance
              </p>
              <p
                class="bigbalance"
              >
                $
                20
                .00
              </p>
            </div>
            <div
              class="mitrocarddiv3"
            >
              <div
                class="trip-info-item"
              >
                <div
                  class="trip-icon"
                >
                  <svg
                    fill="none"
                    height="20"
                    stroke="currentColor"
                    stroke-width="2"
                    viewBox="0 0 24 24"
                    width="20"
                  >
                    <path
                      d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"
                    />
                  </svg>
                </div>
                <div>
                  <p
                    class="trip-label"
                  >
                    Available Trips
                  </p>
                  <p
                    class="trip-value"
                  >
                    5
                     Trips
                  </p>
                </div>
              </div>
              <div
                class="trip-info-item"
              >
                <div
                  class="trip-icon"
                >
                  <svg
                    fill="none"
                    height="20"
                    stroke="currentColor"
                    stroke-width="2"
                    viewBox="0 0 24 24"
                    width="20"
                  >
                    <circle
                      cx="12"
                      cy="12"
                      r="10"
                    />
                    <path
                      d="M12 6v6l4 2"
                    />
                  </svg>
                </div>
                <div>
                  <p
                    class="trip-label"
                  >
                    Each Trip Cost
                  </p>
                  <p
                    class="trip-value"
                  >
                    $
                    4
                    .00
                  </p>
                </div>
              </div>
            </div>
            <div
              class="card-pattern"
            >
              <svg
                height="100%"
                opacity="0.1"
                width="100%"
              >
                <pattern
                  height="20"
                  id="grid"
                  patternUnits="userSpaceOnUse"
                  width="20"
                >
                  <circle
                    cx="2"
                    cy="2"
                    fill="white"
                    r="1"
                  />
                </pattern>
                <rect
                  fill="url(#grid)"
                  height="100%"
                  width="100%"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>
    </body>

      32 |         render(<MyCardB cardData={mockCardData} />);
      33 |
    > 34 |         expect(screen.getByText(/5 times/i)).toBeInTheDocument();
         |                       ^
      35 |     });
      36 |
      37 |     test("shows correct trip cost for regular card", () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/__tests__/MyCardB.test.jsx:34:23)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/MyCardB.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
 FAIL  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
  ‚óè Console

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

       7 |
       8 | const setup = () => {
    >  9 |   const utils = render(
         |                       ^
      10 |       <BrowserRouter>
      11 |         <Login />
      12 |       </BrowserRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at setup (src/__tests__/Login.test.jsx:9:23)
      at Object.<anonymous> (src/__tests__/Login.test.jsx:34:5)

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

       7 |
       8 | const setup = () => {
    >  9 |   const utils = render(
         |                       ^
      10 |       <BrowserRouter>
      11 |         <Login />
      12 |       </BrowserRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at setup (src/__tests__/Login.test.jsx:9:23)
      at Object.<anonymous> (src/__tests__/Login.test.jsx:34:5)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
  ‚óè Login Component ‚Äì 100% Coverage ‚Ä∫ renders login UI

    TestingLibraryElementError: Unable to find an element with the text: /welcome back/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="auth-page"
        >
          <div
            class="brand"
          >
            <div
              class="brand-title"
            >
              Metro Transit
            </div>
            <div
              class="brand-subtitle"
            >
              Your digital fare collection system
            </div>
          </div>
          <div
            class="auth-card"
          >
            <div
              class="auth-header"
            >
              <h2
                style="text-align: center;"
              >
                Welcome
              </h2>
              <p
                style="text-align: center;"
              >
                Sign in to access your transit cards
              </p>
            </div>
            <form>
              <label
                class="auth-label"
              >
                Mobile Number
              </label>
              <input
                class="auth-input"
                name="mobileNumber"
                type="tel"
                value=""
              />
              <label
                class="auth-label"
              >
                Password
              </label>
              <input
                class="auth-input"
                name="password"
                type="password"
                value=""
              />
              <button
                class="auth-btn"
                type="submit"
              >
                Sign in
              </button>
            </form>
            <div
              class="auth-footer"
            >
              Don't have an account?
              <a
                href="/register"
              >
                Register
              </a>
            </div>
          </div>
        </div>
      </div>
    </body>

      33 |   test("renders login UI", () => {
      34 |     setup();
    > 35 |     expect(screen.getByText(/welcome back/i)).toBeInTheDocument();
         |                   ^
      36 |   });
      37 |
      38 |   test("shows error for invalid mobile number", async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/__tests__/Login.test.jsx:35:19)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
 PASS  src/App.test.js

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
  ‚óè Console

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

      3 |
      4 | test("renders login page by default", () => {
    > 5 |   render(<App />);
        |         ^
      6 |   expect(screen.getByText(/welcome/i)).toBeInTheDocument();
      7 | });
      8 |

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15504:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/App.test.js:5:9)

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

      3 |
      4 | test("renders login page by default", () => {
    > 5 |   render(<App />);
        |         ^
      6 |   expect(screen.getByText(/welcome/i)).toBeInTheDocument();
      7 | });
      8 |

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15504:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/App.test.js:5:9)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 FAIL  src/__tests__/TapGate.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
  ‚óè Console

    console.error
      An update to TapGate inside a test was not wrapped in act(...).

      When testing, code that causes React state updates should be wrapped into act(...):

      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */

      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act     

      39 |                 const data = await response.json();
      40 |                 const cardsArray = Array.isArray(data) ? data : [data];
    > 41 |                 this.setState({ ownedCards: cardsArray });
         |                      ^
      42 |                 if (this.state.selectedCardType) {
      43 |                     const freshData = cardsArray.find(c => c.cardType === this.state.selectedCardType);
      44 |                     this.setState({ activeCardData: freshData });

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at Object.enqueueSetState (node_modules/react-dom/cjs/react-dom-client.development.js:27212:13)
      at TapGate.setState (node_modules/react/cjs/react.development.js:655:20)
      at TapGate.fetchOwnedCards (src/components/TapGate.jsx:41:22)

    console.error
      An update to TapGate inside a test was not wrapped in act(...).

      When testing, code that causes React state updates should be wrapped into act(...):

      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */

      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act     

      39 |                 const data = await response.json();
      40 |                 const cardsArray = Array.isArray(data) ? data : [data];
    > 41 |                 this.setState({ ownedCards: cardsArray });
         |                      ^
      42 |                 if (this.state.selectedCardType) {
      43 |                     const freshData = cardsArray.find(c => c.cardType === this.state.selectedCardType);
      44 |                     this.setState({ activeCardData: freshData });

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at Object.enqueueSetState (node_modules/react-dom/cjs/react-dom-client.development.js:27212:13)
      at TapGate.setState (node_modules/react/cjs/react.development.js:655:20)
      at TapGate.fetchOwnedCards (src/components/TapGate.jsx:41:22)

    console.error
      An update to TapGate inside a test was not wrapped in act(...).

      When testing, code that causes React state updates should be wrapped into act(...):

      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */

      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act     

      81 |             });
      82 |             if (response.ok) {
    > 83 |                 this.setState({ topUpAmount: "", showPopup: false });
         |                      ^
      84 |                 await this.fetchOwnedCards();
      85 |             }
      86 |         } catch (err) { this.setState({ error: "Top-up failed." }); }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at Object.enqueueSetState (node_modules/react-dom/cjs/react-dom-client.development.js:27212:13)
      at TapGate.setState (node_modules/react/cjs/react.development.js:655:20)
      at TapGate.handleTopUp (src/components/TapGate.jsx:83:22)

    console.error
      An update to TapGate inside a test was not wrapped in act(...).

      When testing, code that causes React state updates should be wrapped into act(...):

      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */

      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act     

      39 |                 const data = await response.json();
      40 |                 const cardsArray = Array.isArray(data) ? data : [data];
    > 41 |                 this.setState({ ownedCards: cardsArray });
         |                      ^
      42 |                 if (this.state.selectedCardType) {
      43 |                     const freshData = cardsArray.find(c => c.cardType === this.state.selectedCardType);
      44 |                     this.setState({ activeCardData: freshData });

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at Object.enqueueSetState (node_modules/react-dom/cjs/react-dom-client.development.js:27212:13)
      at TapGate.setState (node_modules/react/cjs/react.development.js:655:20)
      at TapGate.fetchOwnedCards (src/components/TapGate.jsx:41:22)
      at TapGate.handleTopUp (src/components/TapGate.jsx:84:17)

    console.error
      An update to TapGate inside a test was not wrapped in act(...).

      When testing, code that causes React state updates should be wrapped into act(...):

      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */

      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act     

      42 |                 if (this.state.selectedCardType) {
      43 |                     const freshData = cardsArray.find(c => c.cardType === this.state.selectedCardType);
    > 44 |                     this.setState({ activeCardData: freshData });
         |                          ^
      45 |                 }
      46 |             }
      47 |         } catch (err) { console.error("Fetch Error:", err); }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at Object.enqueueSetState (node_modules/react-dom/cjs/react-dom-client.development.js:27212:13)
      at TapGate.setState (node_modules/react/cjs/react.development.js:655:20)
      at TapGate.fetchOwnedCards (src/components/TapGate.jsx:44:26)
      at TapGate.handleTopUp (src/components/TapGate.jsx:84:17)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
  ‚óè TapGate Component ‚Ä∫ selects owned STUDENT card

    Unable to find an element with the text: Card Dashboard. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="tapgate-page tapgate-background"
        >
          <div
            data-testid="navbar"
          />
          <div
            class="tapgate-sidebar-container"
          >
            <div
              data-testid="sidebar"
            />
            <div
              class="tapgate-body-container"
            >
              <h3
                class="tapgate-heading"
              >
                1. Select Card Type
              </h3>
              <div
                class="tapgate-card-hub"
              >
                <div
                  class="tapgate-hub-card active"
                >
                  <div
                    class="tapgate-icon-circle student"
                  >
                    üéì
                  </div>
                  <h4>
                    STUDENT
                  </h4>
                </div>
                <div
                  class="tapgate-hub-card "
                >
                  <div
                    class="tapgate-icon-circle regular"
                  >
                    üíº
                  </div>
                  <h4>
                    REGULAR
                  </h4>
                </div>
              </div>
              <div
                class="tapgate-fade-in"
              >
                <h3
                  class="tapgate-heading"
                >
                  2. Card Dashboard
                </h3>
                <div
                  class="tapgate-glass-card student"
                >
                  <div
                    class="tapgate-chip"
                  />
                  <div
                    class="tapgate-balance-info"
                  >
                    <label>
                      Balance
                    </label>
                    <h2>
                      $
                      100.00
                    </h2>
                  </div>
                  <button
                    class="tapgate-topup-trigger"
                  >
                    + Top Up
                  </button>
                </div>
                <h3
                  class="tapgate-heading"
                >
                  3. Choose Route
                </h3>
                <div
                  class="tapgate-route-grid"
                >
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Blue Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Ameerpet
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Secunderabad
                      </strong>
                    </div>
                    <p>
                      4
                       Stops ‚Ä¢
                      15 min
                    </p>
                  </div>
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Red Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Secunderabad
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Hitech City
                      </strong>
                    </div>
                    <p>
                      6
                       Stops ‚Ä¢
                      20 min
                    </p>
                  </div>
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Green Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Hitech City
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Ameerpet
                      </strong>
                    </div>
                    <p>
                      3
                       Stops ‚Ä¢
                      12 min
                    </p>
                  </div>
                </div>
              </div>
              <div
                class="tapgate-modal-overlay"
              >
                <div
                  class="tapgate-modal tapgate-scale-up"
                >
                  <button
                    class="tapgate-close-x"
                  >
                    √ó
                  </button>
                  <div
                    class="tapgate-popup-content"
                  >
                    <div
                      class="tapgate-popup-icon"
                    >
                      üé´
                    </div>
                    <h3>
                      Card Required
                    </h3>
                    <p>
                      You don't own a
                      <strong>
                        STUDENT
                      </strong>
                       card. Would you like to purchase one to start traveling?
                    </p>
                    <button
                      class="tapgate-btn-action"
                    >
                      Go to Purchase Section
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      58 |     fireEvent.click(await screen.findByText("STUDENT"));
      59 |
    > 60 |     expect(await screen.findByText("Card Dashboard")).toBeInTheDocument();
         |                         ^
      61 |     expect(screen.getByText("$100.00")).toBeInTheDocument();
      62 |   });
      63 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at findByText (node_modules/@testing-library/dom/dist/query-helpers.js:86:33)
      at Object.<anonymous> (src/__tests__/TapGate.test.jsx:60:25)

  ‚óè TapGate Component ‚Ä∫ select route and tap & pay

    Found multiple elements with the text: Ameerpet

    Here are the matching elements:

    Ignored nodes: comments, script, style
    <strong>
      Ameerpet
    </strong>

    Ignored nodes: comments, script, style
    <strong>
      Ameerpet
    </strong>

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="tapgate-page tapgate-background"
        >
          <div
            data-testid="navbar"
          />
          <div
            class="tapgate-sidebar-container"
          >
            <div
              data-testid="sidebar"
            />
            <div
              class="tapgate-body-container"
            >
              <h3
                class="tapgate-heading"
              >
                1. Select Card Type
              </h3>
              <div
                class="tapgate-card-hub"
              >
                <div
                  class="tapgate-hub-card active"
                >
                  <div
                    class="tapgate-icon-circle student"
                  >
                    üéì
                  </div>
                  <h4>
                    STUDENT
                  </h4>
                </div>
                <div
                  class="tapgate-hub-card "
                >
                  <div
                    class="tapgate-icon-circle regular"
                  >
                    üíº
                  </div>
                  <h4>
                    REGULAR
                  </h4>
                </div>
              </div>
              <div
                class="tapgate-fade-in"
              >
                <h3
                  class="tapgate-heading"
                >
                  2. Card Dashboard
                </h3>
                <div
                  class="tapgate-glass-card student"
                >
                  <div
                    class="tapgate-chip"
                  />
                  <div
                    class="tapgate-balance-info"
                  >
                    <label>
                      Balance
                    </label>
                    <h2>
                      $
                      100.00
                    </h2>
                  </div>
                  <button
                    class="tapgate-topup-trigger"
                  >
                    + Top Up
                  </button>
                </div>
                <h3
                  class="tapgate-heading"
                >
                  3. Choose Route
                </h3>
                <div
                  class="tapgate-route-grid"
                >
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Blue Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Ameerpet
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Secunderabad
                      </strong>
                    </div>
                    <p>
                      4
                       Stops ‚Ä¢
                      15 min
                    </p>
                  </div>
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Red Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Secunderabad
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Hitech City
                      </strong>
                    </div>
                    <p>
                      6
                       Stops ‚Ä¢
                      20 min
                    </p>
                  </div>
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Green Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Hitech City
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Ameerpet
                      </strong>
                    </div>
                    <p>
                      3
                       Stops ‚Ä¢
                      12 min
                    </p>
                  </div>
                </div>
              </div>
              <div
                class="tapgate-modal-overlay"
              >
                <div
                  class="tapgate-modal tapgate-scale-up"
                >
                  <button
                    class="tapgate-close-x"
                  >
                    √ó
                  </button>
                  <div
                    class="tapgate-popup-content"
                  >
                    <div
                      class="tapgate-popup-icon"
                    >
                      üé´
                    </div>
                    <h3>
                      Card Required
                    </h3>
                    <p>
                      You don't own a
                      <strong>
                        STUDENT
                      </strong>
                       card. Would you like to purchase one to start traveling?
                    </p>
                    <button
                      class="tapgate-btn-action"
                    >
                      Go to Purchase Section
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      115 |     fireEvent.click(await screen.findByText("STUDENT"));
      116 |
    > 117 |     const route = await screen.findByText("Ameerpet");
          |                                ^
      118 |     fireEvent.click(route.closest(".tapgate-route-card"));
      119 |
      120 |     fireEvent.click(await screen.findByText("Tap & Pay"));

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at findByText (node_modules/@testing-library/dom/dist/query-helpers.js:86:33)
      at Object.<anonymous> (src/__tests__/TapGate.test.jsx:117:32)

  ‚óè TapGate Component ‚Ä∫ metroline onNewTrip resets journey

    Found multiple elements with the text: Ameerpet

    Here are the matching elements:

    Ignored nodes: comments, script, style
    <strong>
      Ameerpet
    </strong>

    Ignored nodes: comments, script, style
    <strong>
      Ameerpet
    </strong>

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="tapgate-page tapgate-background"
        >
          <div
            data-testid="navbar"
          />
          <div
            class="tapgate-sidebar-container"
          >
            <div
              data-testid="sidebar"
            />
            <div
              class="tapgate-body-container"
            >
              <h3
                class="tapgate-heading"
              >
                1. Select Card Type
              </h3>
              <div
                class="tapgate-card-hub"
              >
                <div
                  class="tapgate-hub-card active"
                >
                  <div
                    class="tapgate-icon-circle student"
                  >
                    üéì
                  </div>
                  <h4>
                    STUDENT
                  </h4>
                </div>
                <div
                  class="tapgate-hub-card "
                >
                  <div
                    class="tapgate-icon-circle regular"
                  >
                    üíº
                  </div>
                  <h4>
                    REGULAR
                  </h4>
                </div>
              </div>
              <div
                class="tapgate-fade-in"
              >
                <h3
                  class="tapgate-heading"
                >
                  2. Card Dashboard
                </h3>
                <div
                  class="tapgate-glass-card student"
                >
                  <div
                    class="tapgate-chip"
                  />
                  <div
                    class="tapgate-balance-info"
                  >
                    <label>
                      Balance
                    </label>
                    <h2>
                      $
                      100.00
                    </h2>
                  </div>
                  <button
                    class="tapgate-topup-trigger"
                  >
                    + Top Up
                  </button>
                </div>
                <h3
                  class="tapgate-heading"
                >
                  3. Choose Route
                </h3>
                <div
                  class="tapgate-route-grid"
                >
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Blue Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Ameerpet
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Secunderabad
                      </strong>
                    </div>
                    <p>
                      4
                       Stops ‚Ä¢
                      15 min
                    </p>
                  </div>
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Red Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Secunderabad
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Hitech City
                      </strong>
                    </div>
                    <p>
                      6
                       Stops ‚Ä¢
                      20 min
                    </p>
                  </div>
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Green Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Hitech City
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Ameerpet
                      </strong>
                    </div>
                    <p>
                      3
                       Stops ‚Ä¢
                      12 min
                    </p>
                  </div>
                </div>
              </div>
              <div
                class="tapgate-modal-overlay"
              >
                <div
                  class="tapgate-modal tapgate-scale-up"
                >
                  <button
                    class="tapgate-close-x"
                  >
                    √ó
                  </button>
                  <div
                    class="tapgate-popup-content"
                  >
                    <div
                      class="tapgate-popup-icon"
                    >
                      üé´
                    </div>
                    <h3>
                      Card Required
                    </h3>
                    <p>
                      You don't own a
                      <strong>
                        STUDENT
                      </strong>
                       card. Would you like to purchase one to start traveling?
                    </p>
                    <button
                      class="tapgate-btn-action"
                    >
                      Go to Purchase Section
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      136 |     fireEvent.click(await screen.findByText("STUDENT"));
      137 |
    > 138 |     const route = await screen.findByText("Ameerpet");
          |                                ^
      139 |     fireEvent.click(route.closest(".tapgate-route-card"));
      140 |
      141 |     fireEvent.click(await screen.findByText("Tap & Pay"));

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at findByText (node_modules/@testing-library/dom/dist/query-helpers.js:86:33)
      at Object.<anonymous> (src/__tests__/TapGate.test.jsx:138:32)

  ‚óè TapGate Component ‚Ä∫ handles API failure gracefully

    Found multiple elements with the text: Ameerpet

    Here are the matching elements:

    Ignored nodes: comments, script, style
    <strong>
      Ameerpet
    </strong>

    Ignored nodes: comments, script, style
    <strong>
      Ameerpet
    </strong>

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="tapgate-page tapgate-background"
        >
          <div
            data-testid="navbar"
          />
          <div
            class="tapgate-sidebar-container"
          >
            <div
              data-testid="sidebar"
            />
            <div
              class="tapgate-body-container"
            >
              <h3
                class="tapgate-heading"
              >
                1. Select Card Type
              </h3>
              <div
                class="tapgate-card-hub"
              >
                <div
                  class="tapgate-hub-card active"
                >
                  <div
                    class="tapgate-icon-circle student"
                  >
                    üéì
                  </div>
                  <h4>
                    STUDENT
                  </h4>
                </div>
                <div
                  class="tapgate-hub-card "
                >
                  <div
                    class="tapgate-icon-circle regular"
                  >
                    üíº
                  </div>
                  <h4>
                    REGULAR
                  </h4>
                </div>
              </div>
              <div
                class="tapgate-fade-in"
              >
                <h3
                  class="tapgate-heading"
                >
                  2. Card Dashboard
                </h3>
                <div
                  class="tapgate-glass-card student"
                >
                  <div
                    class="tapgate-chip"
                  />
                  <div
                    class="tapgate-balance-info"
                  >
                    <label>
                      Balance
                    </label>
                    <h2>
                      $
                      100.00
                    </h2>
                  </div>
                  <button
                    class="tapgate-topup-trigger"
                  >
                    + Top Up
                  </button>
                </div>
                <h3
                  class="tapgate-heading"
                >
                  3. Choose Route
                </h3>
                <div
                  class="tapgate-route-grid"
                >
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Blue Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Ameerpet
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Secunderabad
                      </strong>
                    </div>
                    <p>
                      4
                       Stops ‚Ä¢
                      15 min
                    </p>
                  </div>
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Red Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Secunderabad
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Hitech City
                      </strong>
                    </div>
                    <p>
                      6
                       Stops ‚Ä¢
                      20 min
                    </p>
                  </div>
                  <div
                    class="tapgate-route-card "
                  >
                    <div
                      class="tapgate-route-header"
                    >
                      <span
                        class="tapgate-route-line-tag"
                      >
                        Green Line
                      </span>
                      <span
                        class="tapgate-route-price"
                      >
                        $
                        4
                      </span>
                    </div>
                    <div
                      class="tapgate-route-path"
                    >
                      <strong>
                        Hitech City
                      </strong>
                      <div
                        class="tapgate-path-line"
                      />
                      <strong>
                        Ameerpet
                      </strong>
                    </div>
                    <p>
                      3
                       Stops ‚Ä¢
                      12 min
                    </p>
                  </div>
                </div>
              </div>
              <div
                class="tapgate-modal-overlay"
              >
                <div
                  class="tapgate-modal tapgate-scale-up"
                >
                  <button
                    class="tapgate-close-x"
                  >
                    √ó
                  </button>
                  <div
                    class="tapgate-popup-content"
                  >
                    <div
                      class="tapgate-popup-icon"
                    >
                      üé´
                    </div>
                    <h3>
                      Card Required
                    </h3>
                    <p>
                      You don't own a
                      <strong>
                        STUDENT
                      </strong>
                       card. Would you like to purchase one to start traveling?
                    </p>
                    <button
                      class="tapgate-btn-action"
                    >
                      Go to Purchase Section
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      157 |     fireEvent.click(await screen.findByText("STUDENT"));
      158 |
    > 159 |     const route = await screen.findByText("Ameerpet");
          |                                ^
      160 |     fireEvent.click(route.closest(".tapgate-route-card"));
      161 |
      162 |     fireEvent.click(await screen.findByText("Tap & Pay"));

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at findByText (node_modules/@testing-library/dom/dist/query-helpers.js:86:33)
      at Object.<anonymous> (src/__tests__/TapGate.test.jsx:159:32)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
 PASS  src/__tests__/Navbar.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
  ‚óè Console

    console.error
      Failed to fetch user details

      25 |
      26 |                 } else {
    > 27 |                     console.error("Failed to fetch user details");
         |                             ^
      28 |                 }
      29 |             } catch (error) {
      30 |                 console.error("Error fetching user details:", error);

      at fetchUserDetails (src/components/Navbar.jsx:27:29)

    console.error
      Error fetching user details: Error: Network error
          at Object.<anonymous> (D:\frontend_final\frontend\src\__tests__\Navbar.test.jsx:67:37)
          at Promise.then.completed (D:\frontend_final\frontend\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (D:\frontend_final\frontend\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:218:40)
          at _runTest (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\frontend_final\frontend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\frontend_final\frontend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal (D:\frontend_final\frontend\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest (D:\frontend_final\frontend\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker (D:\frontend_final\frontend\node_modules\jest-runner\build\testWorker.js:133:12)

      28 |                 }
      29 |             } catch (error) {
    > 30 |                 console.error("Error fetching user details:", error);
         |                         ^
      31 |             }
      32 |         };
      33 |

      at fetchUserDetails (src/components/Navbar.jsx:30:25)

    console.error
      Error fetching user details: TypeError: Cannot read properties of undefined (reading 'ok')
          at fetchUserDetails (D:\frontend_final\frontend\src\components\Navbar.jsx:22:30)

      28 |                 }
      29 |             } catch (error) {
    > 30 |                 console.error("Error fetching user details:", error);
         |                         ^
      31 |             }
      32 |         };
      33 |

      at fetchUserDetails (src/components/Navbar.jsx:30:25)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
 PASS  src/__tests__/Register.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
  ‚óè Console

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

       7 |
       8 | const setup = () => {
    >  9 |   const utils = render(
         |                       ^
      10 |       <BrowserRouter>
      11 |         <Register />
      12 |       </BrowserRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at setup (src/__tests__/Register.test.jsx:9:23)
      at Object.<anonymous> (src/__tests__/Register.test.jsx:35:5)

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

       7 |
       8 | const setup = () => {
    >  9 |   const utils = render(
         |                       ^
      10 |       <BrowserRouter>
      11 |         <Register />
      12 |       </BrowserRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at setup (src/__tests__/Register.test.jsx:9:23)
      at Object.<anonymous> (src/__tests__/Register.test.jsx:35:5)

    console.log
      Network error

      at Register.onSubmit (src/components/Register.jsx:76:21)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
 PASS  src/__tests__/Sidebar.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
  ‚óè Console

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

       6 | describe("Sidebar Component", () => {
       7 |     const renderSidebar = (initialRoute = "/TapGate") => {
    >  8 |         render(
         |               ^
       9 |             <MemoryRouter initialEntries={[initialRoute]}>
      10 |                 <Sidebar />
      11 |             </MemoryRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router/lib/components.tsx:257:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at renderSidebar (src/__tests__/Sidebar.test.jsx:8:15)
      at Object.<anonymous> (src/__tests__/Sidebar.test.jsx:16:9)

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

       6 | describe("Sidebar Component", () => {
       7 |     const renderSidebar = (initialRoute = "/TapGate") => {
    >  8 |         render(
         |               ^
       9 |             <MemoryRouter initialEntries={[initialRoute]}>
      10 |                 <Sidebar />
      11 |             </MemoryRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router/lib/components.tsx:257:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at renderSidebar (src/__tests__/Sidebar.test.jsx:8:15)
      at Object.<anonymous> (src/__tests__/Sidebar.test.jsx:16:9)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
 PASS  src/__tests__/ProtectedRoute.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx
  ‚óè Console

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

      10 |
      11 |     test("redirects to login when token is missing", () => {
    > 12 |         render(
         |               ^
      13 |             <MemoryRouter initialEntries={["/protected"]}>
      14 |                 <Routes>
      15 |                     <Route element={<ProtectedRoute />}>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router/lib/components.tsx:257:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/__tests__/ProtectedRoute.test.jsx:12:15)

    console.warn
      ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

      10 |
      11 |     test("redirects to login when token is missing", () => {
    > 12 |         render(
         |               ^
      13 |             <MemoryRouter initialEntries={["/protected"]}>
      14 |                 <Routes>
      15 |                     <Route element={<ProtectedRoute />}>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router/lib/components.tsx:257:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/__tests__/ProtectedRoute.test.jsx:12:15)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 RUNS  src/__tests__/MyCards.test.jsx
 RUNS  src/__tests__/Sidebar.test.jsx

 PASS  src/__tests__/MyCards.test.jsx

  ‚óè Console

    console.error
      An update to Home inside a test was not wrapped in act(...).

      When testing, code that causes React state updates should be wrapped into act(...):

      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */

      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act     

      35 |                 // Ensure data is treated as an array even if the API returns a single object
      36 |                 const cardsArray = Array.isArray(data) ? data : [data];
    > 37 |                 this.setState({
         |                      ^
      38 |                     ownedCards: cardsArray,
      39 |                     isLoading: false
      40 |                 });

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at Object.enqueueSetState (node_modules/react-dom/cjs/react-dom-client.development.js:27212:13)
      at Home.setState (node_modules/react/cjs/react.development.js:655:20)
      at Home.fetchCardDetails (src/components/MyCards.jsx:37:22)

    console.error
      Failed to fetch card details Error: API Failure
          at Object.<anonymous> (D:\frontend_final\frontend\src\__tests__\MyCards.test.jsx:88:37)
          at Promise.then.completed (D:\frontend_final\frontend\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (D:\frontend_final\frontend\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:218:40)
          at _runTest (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\frontend_final\frontend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\frontend_final\frontend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal (D:\frontend_final\frontend\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest (D:\frontend_final\frontend\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker (D:\frontend_final\frontend\node_modules\jest-runner\build\testWorker.js:133:12)

      41 |             }
      42 |         } catch (error) {
    > 43 |             console.error("Failed to fetch card details", error);
         |                     ^
      44 |             this.setState({ isLoading: false });
      45 |         }
      46 |     };

      at Home.fetchCardDetails (src/components/MyCards.jsx:43:21)


 PASS  src/__tests__/MyCardA.test.jsx
 FAIL  src/__tests__/BuyCard.test.jsx
  ‚óè Console

    console.error
      An update to BuyCard inside a test was not wrapped in act(...).

      When testing, code that causes React state updates should be wrapped into act(...):

      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */

      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act     

      45 |             });
      46 |             if (response.status === 404) {
    > 47 |                 this.setState({ ownedCards: [] });
         |                      ^
      48 |                 return;
      49 |             }
      50 |             const data = await response.json();

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at Object.enqueueSetState (node_modules/react-dom/cjs/react-dom-client.development.js:27212:13)
      at BuyCard.setState (node_modules/react/cjs/react.development.js:655:20)
      at BuyCard.fetchMyCardDetails (src/components/BuyCard.jsx:47:22)

    console.error
      An update to BuyCard inside a test was not wrapped in act(...).

      When testing, code that causes React state updates should be wrapped into act(...):

      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */

      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act     

      45 |             });
      46 |             if (response.status === 404) {
    > 47 |                 this.setState({ ownedCards: [] });
         |                      ^
      48 |                 return;
      49 |             }
      50 |             const data = await response.json();

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at Object.enqueueSetState (node_modules/react-dom/cjs/react-dom-client.development.js:27212:13)
      at BuyCard.setState (node_modules/react/cjs/react.development.js:655:20)
      at BuyCard.fetchMyCardDetails (src/components/BuyCard.jsx:47:22)

  ‚óè BuyCard Component ‚Ä∫ blocks purchase if card already owned
                                                                                                                                                    
    Unable to find an element with the text: Purchase Blocked. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.                                                                     
                                                                                                                                                    
    Ignored nodes: comments, script, style                                                                                                          
    <body>
      <div>
        <div
          class="home-page buycard-page"
        >
          <div
            data-testid="navbar"
          />
          <div
            class="Sidebarcontainer"
          >
            <div
              data-testid="sidebar"
            />
            <div
              class="buybodycontainer"
            >
              <div
                class="header-section"
              >
                <h2
                  class="page-title"
                >
                  Buy Your Metro Pass
                </h2>
                <p
                  class="page-subtitle"
                >
                  Smart, fast and secure way to travel every day
                </p>
              </div>
              <div
                class="typestobuycard"
              >
                <div
                  class="metro-card active"
                >
                  <div
                    class="status-badge active"
                  >
                    ACTIVE
                  </div>
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Student Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $4
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
                <div
                  class="metro-card "
                >
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Regular Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $5
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
              </div>
              <form
                class="buyCardForm"
              >
                <h3
                  class="purchase-title"
                >
                  Secure Checkout
                </h3>
                <label>
                  Payment Method
                </label>
                <div
                  class="method-grid"
                >
                  <div
                    class="method-option selected"
                  >
                    CREDIT
                  </div>
                  <div
                    class="method-option "
                  >
                    DEBIT
                  </div>
                  <div
                    class="method-option "
                  >
                    UPI
                  </div>
                </div>
                <label>
                  Cardholder Name
                </label>
                <input
                  class="inputboxbuysection"
                  placeholder="FULL NAME"
                  value=""
                />
                <label>
                  Card Number
                </label>
                <input
                  class="inputboxbuysection"
                  maxlength="16"
                  placeholder="0000 0000 0000 0000"
                  value=""
                />
                <div
                  class="form-row"
                >
                  <div
                    class="input-group"
                  >
                    <label>
                      Expiry
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="5"
                      placeholder="MM/YY"
                      value=""
                    />
                  </div>
                  <div
                    class="input-group"
                  >
                    <label>
                      CVV
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="3"
                      placeholder="***"
                      type="password"
                      value=""
                    />
                  </div>
                </div>
                <p
                  class="form-error"
                >
                  ‚ö†Ô∏è Please fill all the details
                </p>
                <button
                  class="btnpurchase"
                  type="submit"
                >
                  COMPLETE PURCHASE
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </body>

       95 |     fireEvent.click(screen.getByText("COMPLETE PURCHASE"));
       96 |
    >  97 |     expect(await screen.findByText("Purchase Blocked"))
          |                         ^
       98 |         .toBeInTheDocument();
       99 |     expect(screen.getByText(/already own a STUDENT/)).toBeInTheDocument();
      100 |   });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at findByText (node_modules/@testing-library/dom/dist/query-helpers.js:86:33)
      at Object.<anonymous> (src/__tests__/BuyCard.test.jsx:97:25)

  ‚óè BuyCard Component ‚Ä∫ successful card purchase flow

    TestingLibraryElementError: Unable to find an element with the text: You successfully purchased the card. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="home-page buycard-page"
        >
          <div
            data-testid="navbar"
          />
          <div
            class="Sidebarcontainer"
          >
            <div
              data-testid="sidebar"
            />
            <div
              class="buybodycontainer"
            >
              <div
                class="header-section"
              >
                <h2
                  class="page-title"
                >
                  Buy Your Metro Pass
                </h2>
                <p
                  class="page-subtitle"
                >
                  Smart, fast and secure way to travel every day
                </p>
              </div>
              <div
                class="typestobuycard"
              >
                <div
                  class="metro-card active"
                >
                  <div
                    class="status-badge active"
                  >
                    ACTIVE
                  </div>
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Student Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $4
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
                <div
                  class="metro-card "
                >
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Regular Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $5
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
              </div>
              <form
                class="buyCardForm"
              >
                <h3
                  class="purchase-title"
                >
                  Secure Checkout
                </h3>
                <label>
                  Payment Method
                </label>
                <div
                  class="method-grid"
                >
                  <div
                    class="method-option selected"
                  >
                    CREDIT
                  </div>
                  <div
                    class="method-option "
                  >
                    DEBIT
                  </div>
                  <div
                    class="method-option "
                  >
                    UPI
                  </div>
                </div>
                <label>
                  Cardholder Name
                </label>
                <input
                  class="inputboxbuysection"
                  placeholder="FULL NAME"
                  value="JOHN DOE"
                />
                <label>
                  Card Number
                </label>
                <input
                  class="inputboxbuysection"
                  maxlength="16"
                  placeholder="0000 0000 0000 0000"
                  value="1234123412341234"
                />
                <div
                  class="form-row"
                >
                  <div
                    class="input-group"
                  >
                    <label>
                      Expiry
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="5"
                      placeholder="MM/YY"
                      value="12/26"
                    />
                  </div>
                  <div
                    class="input-group"
                  >
                    <label>
                      CVV
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="3"
                      placeholder="***"
                      type="password"
                      value="123"
                    />
                  </div>
                </div>
                <button
                  class="btnpurchase"
                  type="submit"
                >
                  COMPLETE PURCHASE
                </button>
              </form>
            </div>
          </div>
          <div
            class="payment-modal"
          >
            <div
              class="modal-card border-green"
            >
              <button
                class="modal-close-btn"
                style="position: absolute; top: 10px; right: 15px; background: none; font-size: 18px; cursor: pointer; color: rgb(102, 102, 102);"  
              >
                ‚úï
              </button>
              <div
                class="popup-emoji"
              >
                ‚úÖ
              </div>
              <h3
                class="text-green"
              >
                Success
              </h3>
              <p
                class="success-text"
              >
                You successfully purchased the card, you can use it now.
              </p>
              <button
                class="btnpurchase"
              >
                Go to TapGate
              </button>
            </div>
          </div>
        </div>
      </div>
    </body>

      131 |
      132 |     expect(await screen.findByText("Success")).toBeInTheDocument();
    > 133 |     expect(screen.getByText("You successfully purchased the card"))
          |                   ^
      134 |         .toBeInTheDocument();
      135 |   });
      136 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/__tests__/BuyCard.test.jsx:133:19)

  ‚óè BuyCard Component ‚Ä∫ popup close button works

    Unable to find an element with the text: ‚úï. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="home-page buycard-page"
        >
          <div
            data-testid="navbar"
          />
          <div
            class="Sidebarcontainer"
          >
            <div
              data-testid="sidebar"
            />
            <div
              class="buybodycontainer"
            >
              <div
                class="header-section"
              >
                <h2
                  class="page-title"
                >
                  Buy Your Metro Pass
                </h2>
                <p
                  class="page-subtitle"
                >
                  Smart, fast and secure way to travel every day
                </p>
              </div>
              <div
                class="typestobuycard"
              >
                <div
                  class="metro-card active"
                >
                  <div
                    class="status-badge active"
                  >
                    ACTIVE
                  </div>
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Student Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $4
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
                <div
                  class="metro-card "
                >
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Regular Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $5
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
              </div>
              <form
                class="buyCardForm"
              >
                <h3
                  class="purchase-title"
                >
                  Secure Checkout
                </h3>
                <label>
                  Payment Method
                </label>
                <div
                  class="method-grid"
                >
                  <div
                    class="method-option selected"
                  >
                    CREDIT
                  </div>
                  <div
                    class="method-option "
                  >
                    DEBIT
                  </div>
                  <div
                    class="method-option "
                  >
                    UPI
                  </div>
                </div>
                <label>
                  Cardholder Name
                </label>
                <input
                  class="inputboxbuysection"
                  placeholder="FULL NAME"
                  value=""
                />
                <label>
                  Card Number
                </label>
                <input
                  class="inputboxbuysection"
                  maxlength="16"
                  placeholder="0000 0000 0000 0000"
                  value=""
                />
                <div
                  class="form-row"
                >
                  <div
                    class="input-group"
                  >
                    <label>
                      Expiry
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="5"
                      placeholder="MM/YY"
                      value=""
                    />
                  </div>
                  <div
                    class="input-group"
                  >
                    <label>
                      CVV
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="3"
                      placeholder="***"
                      type="password"
                      value=""
                    />
                  </div>
                </div>
                <p
                  class="form-error"
                >
                  ‚ö†Ô∏è Please fill all the details
                </p>
                <button
                  class="btnpurchase"
                  type="submit"
                >
                  COMPLETE PURCHASE
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </body>

      176 |     fireEvent.click(screen.getByText("COMPLETE PURCHASE"));
      177 |
    > 178 |     const closeBtn = await screen.findByText("‚úï");
          |                                   ^
      179 |     fireEvent.click(closeBtn);
      180 |
      181 |     expect(screen.queryByText("Purchase Blocked")).not.toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at findByText (node_modules/@testing-library/dom/dist/query-helpers.js:86:33)
      at Object.<anonymous> (src/__tests__/BuyCard.test.jsx:178:35)

---------------------|---------|----------|---------|---------|-------------------------
File                 | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s       
---------------------|---------|----------|---------|---------|-------------------------
All files            |   87.98 |    76.57 |   84.21 |   89.45 |                         
 src                 |     100 |      100 |     100 |     100 |                         
  App.js             |     100 |      100 |     100 |     100 |                         
 src/components      |   87.93 |    76.57 |      84 |    89.4 |                         
  BuyCard.jsx        |   84.74 |    77.08 |   76.19 |   87.03 | 37,54,82-87,148,219-260
  Login.jsx          |     100 |    83.33 |     100 |     100 | 57-60                  
  Metroline.jsx      |      90 |    77.77 |    90.9 |    90.9 | 23-24                  
  MyCardA.jsx        |     100 |      100 |     100 |     100 |                        
  MyCardB.jsx        |     100 |      100 |     100 |     100 |                        
  MyCards.jsx        |     100 |    83.33 |     100 |     100 | 33,67                  
  Navbar.jsx         |     100 |      100 |     100 |     100 |                        
  ProtectedRoute.jsx |     100 |      100 |     100 |     100 |                        
  Register.jsx       |     100 |    94.44 |     100 |     100 | 75                     
  Sidebar.jsx        |     100 |       50 |     100 |     100 | 14-34                  
  TapGate.jsx        |   66.07 |    60.86 |   68.42 |   68.62 | 47,55,86,90-109,184,210
---------------------|---------|----------|---------|---------|-------------------------
Test Suites: 5 failed, 7 passed, 12 total
Tests:       12 failed, 50 passed, 62 total
Snapshots:   0 total
Time:        7.924 s
Ran all test suites related to changed files.

Watch Usage
 ‚Ä∫ Press a to run all tests.
 ‚Ä∫ Press f to run only failed tests.
 ‚Ä∫ Press q to quit watch mode.
 ‚Ä∫ Press i to run failing tests interactively.
 ‚Ä∫ Press p to filter by a filename regex pattern.
 ‚Ä∫ Press t to filter by a test name regex pattern.
 ‚Ä∫ Press Enter to trigger a test run.


