PS D:\frontend_final\frontend> npm test -- --coverage

> frontend@0.1.0 test
> react-scripts test --coverage

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 FAIL  src/__tests__/Metroline.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
  ● MetroLine Component › shows destination reached popup after final station

    TestingLibraryElementError: Unable to find an element with the text: /Destination Reached!/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="tapgate-metro-wrapper"
        >
          <div
            class="tapgate-metro-card2"
          >
            <div
              class="tapgate-track"
            >
              <span
                class="tapgate-track-dot"
                style="left: 0px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 100px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 200px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 300px;"
              />
              <div
                class="tapgate-metro"
                style="transition: left 4s linear; transform: translateX(-50%); left: 100px;"
              />
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 0px;"
              >
                <span>
                  Ameerpet
                </span>
              </div>
              <div
                class="tapgate-station-box active"
                style="transform: translateX(-50%); left: 100px;"
              >
                <span>
                  Station A
                </span>
              </div>
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 200px;"
              >
                <span>
                  Station B
                </span>
              </div>
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 300px;"
              >
                <span>
                  Secunderabad
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      64 |
      65 |         expect(
    > 66 |             screen.getByText(/Destination Reached!/i)
         |                    ^
      67 |         ).toBeInTheDocument();
      68 |
      69 |         expect(

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/__tests__/Metroline.test.jsx:66:20)

  ● MetroLine Component › New Trip button triggers callback

    TestingLibraryElementError: Unable to find an element with the text: New Trip. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="tapgate-metro-wrapper"
        >
          <div
            class="tapgate-metro-card2"
          >
            <div
              class="tapgate-track"
            >
              <span
                class="tapgate-track-dot"
                style="left: 0px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 100px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 200px;"
              />
              <span
                class="tapgate-track-dot"
                style="left: 300px;"
              />
              <div
                class="tapgate-metro"
                style="transition: left 4s linear; transform: translateX(-50%); left: 100px;"
              />
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 0px;"
              >
                <span>
                  Ameerpet
                </span>
              </div>
              <div
                class="tapgate-station-box active"
                style="transform: translateX(-50%); left: 100px;"
              >
                <span>
                  Station A
                </span>
              </div>
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 200px;"
              >
                <span>
                  Station B
                </span>
              </div>
              <div
                class="tapgate-station-box "
                style="transform: translateX(-50%); left: 300px;"
              >
                <span>
                  Secunderabad
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </body>

      82 |         });
      83 |
    > 84 |         screen.getByText("New Trip").click();
         |                ^
      85 |         expect(onNewTrip).toHaveBeenCalledTimes(1);
      86 |     });
      87 | });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at getByText (node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/__tests__/Metroline.test.jsx:84:16)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Metroline.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx
 PASS  src/__tests__/MyCardB.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 RUNS  src/__tests__/TapGate.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 PASS  src/App.test.js

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
  ● Console

    console.warn
      ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

      3 |
      4 | test("renders login page by default", () => {
    > 5 |   render(<App />);
        |         ^
      6 |   expect(screen.getByText(/welcome/i)).toBeInTheDocument();
      7 | });
      8 |

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15504:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/App.test.js:5:9)

    console.warn
      ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

      3 |
      4 | test("renders login page by default", () => {
    > 5 |   render(<App />);
        |         ^
      6 |   expect(screen.getByText(/welcome/i)).toBeInTheDocument();
      7 | });
      8 |

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15504:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/App.test.js:5:9)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 PASS  src/__tests__/TapGate.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
  ● Console

    console.error
      You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);

      84 |
      85 |     await act(async () => {
    > 86 |       fireEvent.click(await screen.findByText("STUDENT"));
         |                       ^
      87 |     });
      88 |
      89 |     expect(await screen.findByText(/Card Dashboard/i)).toBeInTheDocument();

      at node_modules/react/cjs/react.development.js:835:21
      at runJobs (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:506:22)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1270:13)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1378:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:101:19)
      at node_modules/@testing-library/react/dist/pure.js:96:16
      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:91:13)
      at src/__tests__/TapGate.test.jsx:86:23

    console.error
      Fetch Error: TypeError: Cannot read properties of undefined (reading 'ok')
          at TapGate.fetchOwnedCards (D:\frontend_final\frontend\src\components\TapGate.jsx:38:26)

      45 |                 }
      46 |             }
    > 47 |         } catch (err) { console.error("Fetch Error:", err); }
         |                                 ^
      48 |     };
      49 |
      50 |     // --- UPDATED LOGIC FOR CARD SELECTION ---

      at TapGate.fetchOwnedCards (src/components/TapGate.jsx:47:33)

    console.error
      Fetch Error: TypeError: Cannot read properties of undefined (reading 'ok')
          at TapGate.fetchOwnedCards (D:\frontend_final\frontend\src\components\TapGate.jsx:38:26)

      45 |                 }
      46 |             }
    > 47 |         } catch (err) { console.error("Fetch Error:", err); }
         |                                 ^
      48 |     };
      49 |
      50 |     // --- UPDATED LOGIC FOR CARD SELECTION ---

      at TapGate.fetchOwnedCards (src/components/TapGate.jsx:47:33)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 PASS  src/__tests__/Register.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
  ● Console

    console.warn
      ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

       7 |
       8 | const setup = () => {
    >  9 |   const utils = render(
         |                       ^
      10 |       <BrowserRouter>
      11 |         <Register />
      12 |       </BrowserRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at setup (src/__tests__/Register.test.jsx:9:23)
      at Object.<anonymous> (src/__tests__/Register.test.jsx:35:5)

    console.warn
      ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

       7 |
       8 | const setup = () => {
    >  9 |   const utils = render(
         |                       ^
      10 |       <BrowserRouter>
      11 |         <Register />
      12 |       </BrowserRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at setup (src/__tests__/Register.test.jsx:9:23)
      at Object.<anonymous> (src/__tests__/Register.test.jsx:35:5)

    console.log
      Network error

      at Register.onSubmit (src/components/Register.jsx:76:21)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
 PASS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx
  ● Console

    console.warn
      ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

       7 |
       8 | const setup = () => {
    >  9 |   const utils = render(
         |                       ^
      10 |       <BrowserRouter>
      11 |         <Login />
      12 |       </BrowserRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at setup (src/__tests__/Login.test.jsx:9:23)
      at Object.<anonymous> (src/__tests__/Login.test.jsx:34:5)

    console.warn
      ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

       7 |
       8 | const setup = () => {
    >  9 |   const utils = render(
         |                       ^
      10 |       <BrowserRouter>
      11 |         <Login />
      12 |       </BrowserRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logV6DeprecationWarnings [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router-dom/index.tsx:816:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at setup (src/__tests__/Login.test.jsx:9:23)
      at Object.<anonymous> (src/__tests__/Login.test.jsx:34:5)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/Register.test.jsx
 RUNS  src/__tests__/Login.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
 PASS  src/__tests__/MyCards.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx
  ● Console

    console.error
      An update to Home inside a test was not wrapped in act(...).

      When testing, code that causes React state updates should be wrapped into act(...):

      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */

      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act     

      35 |                 // Ensure data is treated as an array even if the API returns a single object
      36 |                 const cardsArray = Array.isArray(data) ? data : [data];
    > 37 |                 this.setState({
         |                      ^
      38 |                     ownedCards: cardsArray,
      39 |                     isLoading: false
      40 |                 });

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at Object.enqueueSetState (node_modules/react-dom/cjs/react-dom-client.development.js:27212:13)
      at Home.setState (node_modules/react/cjs/react.development.js:655:20)
      at Home.fetchCardDetails (src/components/MyCards.jsx:37:22)

    console.error
      Failed to fetch card details Error: API Failure
          at Object.<anonymous> (D:\frontend_final\frontend\src\__tests__\MyCards.test.jsx:88:37)
          at Promise.then.completed (D:\frontend_final\frontend\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (D:\frontend_final\frontend\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:218:40)
          at _runTest (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\frontend_final\frontend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\frontend_final\frontend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal (D:\frontend_final\frontend\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest (D:\frontend_final\frontend\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker (D:\frontend_final\frontend\node_modules\jest-runner\build\testWorker.js:133:12)

      41 |             }
      42 |         } catch (error) {
    > 43 |             console.error("Failed to fetch card details", error);
         |                     ^
      44 |             this.setState({ isLoading: false });
      45 |         }
      46 |     };

      at Home.fetchCardDetails (src/components/MyCards.jsx:43:21)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 RUNS  src/__tests__/ProtectedRoute.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 PASS  src/__tests__/Navbar.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
  ● Console

    console.error
      Failed to fetch user details

      25 |
      26 |                 } else {
    > 27 |                     console.error("Failed to fetch user details");
         |                             ^
      28 |                 }
      29 |             } catch (error) {
      30 |                 console.error("Error fetching user details:", error);

      at fetchUserDetails (src/components/Navbar.jsx:27:29)

    console.error
      Error fetching user details: Error: Network error
          at Object.<anonymous> (D:\frontend_final\frontend\src\__tests__\Navbar.test.jsx:67:37)
          at Promise.then.completed (D:\frontend_final\frontend\node_modules\jest-circus\build\utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (D:\frontend_final\frontend\node_modules\jest-circus\build\utils.js:316:10)
          at _callCircusTest (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:218:40)
          at _runTest (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:155:3)
          at _runTestsForDescribeBlock (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:66:9)
          at _runTestsForDescribeBlock (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:60:9)
          at run (D:\frontend_final\frontend\node_modules\jest-circus\build\run.js:25:3)
          at runAndTransformResultsToJestFormat (D:\frontend_final\frontend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:170:21)
          at jestAdapter (D:\frontend_final\frontend\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:82:19)
          at runTestInternal (D:\frontend_final\frontend\node_modules\jest-runner\build\runTest.js:389:16)
          at runTest (D:\frontend_final\frontend\node_modules\jest-runner\build\runTest.js:475:34)
          at Object.worker (D:\frontend_final\frontend\node_modules\jest-runner\build\testWorker.js:133:12)

      28 |                 }
      29 |             } catch (error) {
    > 30 |                 console.error("Error fetching user details:", error);
         |                         ^
      31 |             }
      32 |         };
      33 |

      at fetchUserDetails (src/components/Navbar.jsx:30:25)

    console.error
      Error fetching user details: TypeError: Cannot read properties of undefined (reading 'ok')
          at fetchUserDetails (D:\frontend_final\frontend\src\components\Navbar.jsx:22:30)

      28 |                 }
      29 |             } catch (error) {
    > 30 |                 console.error("Error fetching user details:", error);
         |                         ^
      31 |             }
      32 |         };
      33 |

      at fetchUserDetails (src/components/Navbar.jsx:30:25)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
 PASS  src/__tests__/Sidebar.test.jsx

 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx
  ● Console

    console.warn
      ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

       6 | describe("Sidebar Component", () => {
       7 |     const renderSidebar = (initialRoute = "/TapGate") => {
    >  8 |         render(
         |               ^
       9 |             <MemoryRouter initialEntries={[initialRoute]}>
      10 |                 <Sidebar />
      11 |             </MemoryRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router/lib/components.tsx:257:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at renderSidebar (src/__tests__/Sidebar.test.jsx:8:15)
      at Object.<anonymous> (src/__tests__/Sidebar.test.jsx:16:9)

    console.warn
      ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

       6 | describe("Sidebar Component", () => {
       7 |     const renderSidebar = (initialRoute = "/TapGate") => {
    >  8 |         render(
         |               ^
       9 |             <MemoryRouter initialEntries={[initialRoute]}>
      10 |                 <Sidebar />
      11 |             </MemoryRouter>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router/lib/components.tsx:257:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at renderSidebar (src/__tests__/Sidebar.test.jsx:8:15)
      at Object.<anonymous> (src/__tests__/Sidebar.test.jsx:16:9)


 RUNS  src/__tests__/BuyCard.test.jsx
 RUNS  src/__tests__/Navbar.test.jsx

 PASS  src/__tests__/MyCardA.test.jsx

 PASS  src/__tests__/ProtectedRoute.test.jsx

  ● Console

    console.warn
      ⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

      10 |
      11 |     test("redirects to login when token is missing", () => {
    > 12 |         render(
         |               ^
      13 |             <MemoryRouter initialEntries={["/protected"]}>
      14 |                 <Routes>
      15 |                     <Route element={<ProtectedRoute />}>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:26:5)
      at node_modules/react-router/lib/components.tsx:257:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/__tests__/ProtectedRoute.test.jsx:12:15)

    console.warn
      ⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

      10 |
      11 |     test("redirects to login when token is missing", () => {
    > 12 |         render(
         |               ^
      13 |             <MemoryRouter initialEntries={["/protected"]}>
      14 |                 <Routes>
      15 |                     <Route element={<ProtectedRoute />}>

      at warnOnce (node_modules/react-router/lib/deprecations.ts:9:13)
      at logDeprecation (node_modules/react-router/lib/deprecations.ts:14:3)
      at logV6DeprecationWarnings (node_modules/react-router/lib/deprecations.ts:37:5)
      at node_modules/react-router/lib/components.tsx:257:25
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/__tests__/ProtectedRoute.test.jsx:12:15)


 FAIL  src/__tests__/BuyCard.test.jsx (5.421 s)
  ● BuyCard Component › blocks purchase if card already owned

    Unable to find an element with the text: /Purchase Blocked/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="home-page buycard-page"
        >
          <div
            data-testid="navbar"
          />
          <div
            class="Sidebarcontainer"
          >
            <div
              data-testid="sidebar"
            />
            <div
              class="buybodycontainer"
            >
              <div
                class="header-section"
              >
                <h2
                  class="page-title"
                >
                  Buy Your Metro Pass
                </h2>
                <p
                  class="page-subtitle"
                >
                  Smart, fast and secure way to travel every day
                </p>
              </div>
              <div
                class="typestobuycard"
              >
                <div
                  class="metro-card active"
                >
                  <div
                    class="status-badge active"
                  >
                    ACTIVE
                  </div>
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Student Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $4
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
                <div
                  class="metro-card "
                >
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Regular Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $5
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
              </div>
              <form
                class="buyCardForm"
              >
                <h3
                  class="purchase-title"
                >
                  Secure Checkout
                </h3>
                <label>
                  Payment Method
                </label>
                <div
                  class="method-grid"
                >
                  <div
                    class="method-option selected"
                  >
                    CREDIT
                  </div>
                  <div
                    class="method-option "
                  >
                    DEBIT
                  </div>
                  <div
                    class="method-option "
                  >
                    UPI
                  </div>
                </div>
                <label>
                  Cardholder Name
                </label>
                <input
                  class="inputboxbuysection"
                  placeholder="FULL NAME"
                  value=""
                />
                <label>
                  Card Number
                </label>
                <input
                  class="inputboxbuysection"
                  maxlength="16"
                  placeholder="0000 0000 0000 0000"
                  value=""
                />
                <div
                  class="form-row"
                >
                  <div
                    class="input-group"
                  >
                    <label>
                      Expiry
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="5"
                      placeholder="MM/YY"
                      value=""
                    />
                  </div>
                  <div
                    class="input-group"
                  >
                    <label>
                      CVV
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="3"
                      placeholder="***"
                      type="password"
                      value=""
                    />
                  </div>
                </div>
                <p
                  class="form-error"
                >
                  ⚠️ Please fill all the details
                </p>
                <button
                  class="btnpurchase"
                  type="submit"
                >
                  COMPLETE PURCHASE
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </body>

      101 |
      102 |     expect(
    > 103 |         await screen.findByText(/Purchase Blocked/i)
          |                      ^
      104 |     ).toBeInTheDocument();
      105 |
      106 |     expect(

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at findByText (node_modules/@testing-library/dom/dist/query-helpers.js:86:33)
      at Object.<anonymous> (src/__tests__/BuyCard.test.jsx:103:22)

  ● BuyCard Component › successful card purchase flow

    Found multiple elements with the text: /Success/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    <h3
      class="text-green"
    >
      Success
    </h3>

    Ignored nodes: comments, script, style
    <p
      class="success-text"
    >
      You successfully purchased the card, you can use it now.
    </p>

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="home-page buycard-page"
        >
          <div
            data-testid="navbar"
          />
          <div
            class="Sidebarcontainer"
          >
            <div
              data-testid="sidebar"
            />
            <div
              class="buybodycontainer"
            >
              <div
                class="header-section"
              >
                <h2
                  class="page-title"
                >
                  Buy Your Metro Pass
                </h2>
                <p
                  class="page-subtitle"
                >
                  Smart, fast and secure way to travel every day
                </p>
              </div>
              <div
                class="typestobuycard"
              >
                <div
                  class="metro-card active"
                >
                  <div
                    class="status-badge active"
                  >
                    ACTIVE
                  </div>
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Student Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $4
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
                <div
                  class="metro-card "
                >
                  <div
                    class="chip-icon"
                  />
                  <h3>
                    Regular Metro Card
                  </h3>
                  <p>
                    Perfect for daily commuters
                  </p>
                  <ul>
                    <li>
                      Card Price : $5
                    </li>
                    <li>
                      Min Wallet : $60
                    </li>
                    <li>
                      Trip cost : $5
                    </li>
                    <li>
                      Card Validity : 60 days
                    </li>
                  </ul>
                  <h4>
                    Total price : $65
                  </h4>
                </div>
              </div>
              <form
                class="buyCardForm"
              >
                <h3
                  class="purchase-title"
                >
                  Secure Checkout
                </h3>
                <label>
                  Payment Method
                </label>
                <div
                  class="method-grid"
                >
                  <div
                    class="method-option selected"
                  >
                    CREDIT
                  </div>
                  <div
                    class="method-option "
                  >
                    DEBIT
                  </div>
                  <div
                    class="method-option "
                  >
                    UPI
                  </div>
                </div>
                <label>
                  Cardholder Name
                </label>
                <input
                  class="inputboxbuysection"
                  placeholder="FULL NAME"
                  value="JOHN DOE"
                />
                <label>
                  Card Number
                </label>
                <input
                  class="inputboxbuysection"
                  maxlength="16"
                  placeholder="0000 0000 0000 0000"
                  value="1234123412341234"
                />
                <div
                  class="form-row"
                >
                  <div
                    class="input-group"
                  >
                    <label>
                      Expiry
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="5"
                      placeholder="MM/YY"
                      value="12/26"
                    />
                  </div>
                  <div
                    class="input-group"
                  >
                    <label>
                      CVV
                    </label>
                    <input
                      class="inputboxbuysection"
                      maxlength="3"
                      placeholder="***"
                      type="password"
                      value="123"
                    />
                  </div>
                </div>
                <button
                  class="btnpurchase"
                  type="submit"
                >
                  COMPLETE PURCHASE
                </button>
              </form>
            </div>
          </div>
          <div
            class="payment-modal"
          >
            <div
              class="modal-card border-green"
            >
              <button
                class="modal-close-btn"
                style="position: absolute; top: 10px; right: 15px; background: none; font-size: 18px; cursor: pointer; color: rgb(102, 102, 102);"  
              >
                ✕
              </button>
              <div
                class="popup-emoji"
              >
                ✅
              </div>
              <h3
                class="text-green"
              >
                Success
              </h3>
              <p
                class="success-text"
              >
                You successfully purchased the card, you can use it now.
              </p>
              <button
                class="btnpurchase"
              >
                Go to TapGate
              </button>
            </div>
          </div>
        </div>
      </div>
    </body>

      140 |     fireEvent.click(screen.getByText(/Complete Purchase/i));
      141 |
    > 142 |     expect(await screen.findByText(/Success/i)).toBeInTheDocument();
          |                         ^
      143 |
      144 |     expect(
      145 |         screen.getByText(/successfully purchased the card/i)

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at findByText (node_modules/@testing-library/dom/dist/query-helpers.js:86:33)
      at Object.<anonymous> (src/__tests__/BuyCard.test.jsx:142:25)

  ● BuyCard Component › popup close button works

    Unable to fire a "click" event - please provide a DOM element.

      194 |
      195 |     const closeBtn = document.querySelector(".modal-close-btn");
    > 196 |     fireEvent.click(closeBtn);
          |               ^
      197 |
      198 |     expect(
      199 |         screen.queryByText(/Purchase Blocked/i)

      at createEvent (node_modules/@testing-library/dom/dist/events.js:27:11)
      at createEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:106:38)
      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:68)
      at fireEvent.click (node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.<anonymous> (src/__tests__/BuyCard.test.jsx:196:15)

---------------------|---------|----------|---------|---------|-----------------------------
File                 | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s           
---------------------|---------|----------|---------|---------|-----------------------------
All files            |   93.41 |    81.14 |   88.15 |   94.93 |                             
 src                 |     100 |      100 |     100 |     100 |                             
  App.js             |     100 |      100 |     100 |     100 |                             
 src/components      |   93.38 |    81.14 |      88 |   94.91 |                             
  BuyCard.jsx        |   83.05 |    72.91 |   71.42 |   85.18 | 37,54,82-87,148,192,219-260
  Login.jsx          |     100 |    83.33 |     100 |     100 | 57-60                      
  Metroline.jsx      |   86.66 |    77.77 |   81.81 |    90.9 | 23-24                      
  MyCardA.jsx        |     100 |      100 |     100 |     100 |                            
  MyCardB.jsx        |     100 |      100 |     100 |     100 |                            
  MyCards.jsx        |     100 |    83.33 |     100 |     100 | 33,67                      
  Navbar.jsx         |     100 |      100 |     100 |     100 |                            
  ProtectedRoute.jsx |     100 |      100 |     100 |     100 |                            
  Register.jsx       |     100 |    94.44 |     100 |     100 | 75                         
  Sidebar.jsx        |     100 |       50 |     100 |     100 | 14-34                      
  TapGate.jsx        |   94.64 |     82.6 |   94.73 |   96.07 | 86,210                     
---------------------|---------|----------|---------|---------|-----------------------------
Test Suites: 2 failed, 10 passed, 12 total
Tests:       5 failed, 56 passed, 61 total
Snapshots:   0 total
Time:        11.57 s
Ran all test suites related to changed files.

Watch Usage
 › Press a to run all tests.
 › Press f to run only failed tests.
 › Press q to quit watch mode.
 › Press i to run failing tests interactively.
 › Press p to filter by a filename regex pattern.
 › Press t to filter by a test name regex pattern.
 › Press Enter to trigger a test run.


